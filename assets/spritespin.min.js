!function(a){"use strict";function b(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}function c(a,b,c){return a>c?c:b>a?b:a}function d(a,b,c,d){for(;a>c;)a-=d;for(;b>a;)a+=d;return a}function e(a){return a.preventDefault(),!1}function f(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}function g(a,b,c){c&&a.bind(b+"."+l,c)}function h(a){a.unbind("."+l)}function i(b){var c,d,e="string"==typeof b.source?[b.source]:b.source,f=0,g=[],h=b.preloadCount||e.length,i=!1,j=!1,k=function(){f+=1,"function"==typeof b.progress&&b.progress({index:a.inArray(this,g),loaded:f,total:e.length,percent:Math.round(f/e.length*100)}),j=j||this===g[0],!i&&f>=h&&j&&"function"==typeof b.complete&&(i=!0,b.complete(g))};for(c=0;c<e.length;c+=1)d=new Image,g.push(d),d.onload=d.onabort=d.onerror=k,d.src=e[c];"function"==typeof b.initiated&&b.initiated(g)}function j(a,b){var c=(b||a).width,d=(b||a).height;if(1048576>=c*d)return!1;var e;if(e=document.createElement("canvas"),!e||!e.getContext)return!1;var g=e.getContext("2d");if(!g)return!1;e.width=e.height=1,g.fillStyle="#FF00FF",g.fillRect(0,0,1,1),g.drawImage(a,-c+1,0);try{var h=g.getImageData(0,0,1,1).data;return 255===h[0]&&0===h[1]&&255===h[2]}catch(i){return f(i.message,i.stack),!1}}function k(a){if(null!=a.naturalWidth)return{width:a.naturalWidth,height:a.naturalHeight};var b=new Image;return b.src=a.src,{width:b.width,height:b.height}}var l="spritespin",m=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],n=["dragstart"],o={};window.SpriteSpin=o,o.namespace=l,o.mods={},o.defaults={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,sizeMode:void 0,module:"360",behavior:"drag",renderer:"canvas",lane:0,frame:0,frameTime:40,animate:!0,reverse:!0,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:-1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,scrollThreshold:50,preloadCount:void 0,onInit:void 0,onProgress:void 0,onLoad:void 0,onFrame:void 0,onDraw:void 0},o.clamp=c,o.wrap=d,o.sourceArray=function(a,c){var d=0,e=0,f=0,g=0,h=c.digits||2;c.frame&&(d=c.frame[0],e=c.frame[1]),c.lane&&(f=c.lane[0],g=c.lane[1]);var i,j,k,l=[];for(i=f;g>=i;i+=1)for(j=d;e>=j;j+=1)k=a.replace("{lane}",b(i,h,0)),k=k.replace("{frame}",b(j,h,0)),l.push(k);return l},o.measureSource=function(a){var b=a.images[0],c=k(b);if(1===a.images.length){if(a.sourceWidth=c.width,a.sourceHeight=c.height,a.detectSubsampling&&j(b,c)&&(a.sourceWidth/=2,a.sourceHeight/=2),a.framesX=a.framesX||a.frames,!a.frameWidth||!a.frameHeight)if(a.framesX){a.frameWidth=Math.floor(a.sourceWidth/a.framesX);var d=Math.ceil(a.frames*a.lanes/a.framesX);a.frameHeight=Math.floor(a.sourceHeight/d)}else a.frameWidth=c.width,a.frameHeight=c.height}else a.sourceWidth=a.frameWidth=c.width,a.sourceHeight=a.frameHeight=c.height,j(b,c)&&(a.sourceWidth=a.frameWidth=c.width/2,a.sourceHeight=a.frameHeight=c.height/2),a.frames=a.frames||a.images.length},o.resetInput=function(a){a.startX=a.startY=void 0,a.currentX=a.currentY=void 0,a.oldX=a.oldY=void 0,a.dX=a.dY=a.dW=0,a.ddX=a.ddY=a.ddW=0},o.updateInput=function(a,b){void 0===a.touches&&void 0!==a.originalEvent&&(a.touches=a.originalEvent.touches),b.oldX=b.currentX,b.oldY=b.currentY,void 0!==a.touches&&a.touches.length>0?(b.currentX=a.touches[0].clientX||0,b.currentY=a.touches[0].clientY||0):(b.currentX=a.clientX||0,b.currentY=a.clientY||0),(void 0===b.oldX||void 0===b.oldY)&&(b.oldX=b.currentX,b.oldY=b.currentY),(void 0===b.startX||void 0===b.startY)&&(b.startX=b.currentX,b.startY=b.currentY,b.clickframe=b.frame,b.clicklane=b.lane),b.dX=b.currentX-b.startX,b.dY=b.currentY-b.startY,b.ddX=b.currentX-b.oldX,b.ddY=b.currentY-b.oldY,b.ndX=b.dX/b.width,b.ndY=b.dY/b.height,b.nddX=b.ddX/b.width,b.nddY=b.ddY/b.height},o.updateFrame=function(a,b,e){void 0!==b?a.frame=Number(b):a.animation&&(a.frame+=a.reverse?-1:1),a.animation?(a.frame=d(a.frame,0,a.frames-1,a.frames),a.loop||a.frame!==a.stopFrame||o.stopAnimation(a)):a.wrap?a.frame=d(a.frame,0,a.frames-1,a.frames):a.frame=c(a.frame,0,a.frames-1),void 0!==e&&(a.lane=e,a.wrapLane?a.lane=d(a.lane,0,a.lanes-1,a.lanes):a.lane=c(a.lane,0,a.lanes-1)),a.target.trigger("onFrame",a),a.target.trigger("onDraw",a)},o.stopAnimation=function(a){a.animate=!1,a.animation&&(window.clearInterval(a.animation),a.animation=null)},o.setAnimation=function(a){a.animate?o.requestFrame(a):o.stopAnimation(a)},o.requestFrame=function(a){a.animation||(void 0===a.frameFunction&&(a.frameFunction=function(){try{o.updateFrame(a)}catch(b){}}),a.animation=window.setInterval(a.frameFunction,a.frameTime))},o.setModules=function(b){var c,d,e;for(c=0;c<b.mods.length;c+=1)d=b.mods[c],"string"==typeof d&&(e=o.mods[d],e?b.mods[c]=e:a.error("No module found with name "+d))},o.calculateInnerLayout=function(a){var b=Math.floor(a.width||a.frameWidth||a.target.innerWidth()),c=Math.floor(a.height||a.frameHeight||a.target.innerHeight()),d=b/c,e=a.frameWidth||b,f=a.frameHeight||c,g=e/f,h={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute",overflow:"hidden"},i=a.sizeMode;return i&&"scale"!=i?("original"==i?(h.width=e,h.height=f):"fit"==i?g>=d?(h.width=b,h.height=b/g):(h.height=c,h.width=c*g):"fill"==i&&(g>=d?(h.height=c,h.width=c*g):(h.width=b,h.height=b/g)),h.width=0|h.width,h.height=0|h.height,h.top=(c-h.height)/2|0,h.left=(b-h.width)/2|0,h.right=h.left,h.bottom=h.top,h):h},o.setLayout=function(a){a.target.attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var b=Math.floor(a.width||a.frameWidth||a.target.innerWidth()),c=Math.floor(a.height||a.frameHeight||a.target.innerHeight());a.target.css({width:b,height:c,position:"relative",overflow:"hidden"});var d=o.calculateInnerLayout(a);a.stage.css(d).hide(),a.canvas&&(a.canvas[0].width=b,a.canvas[0].height=c,a.canvas.css(d).hide())},o.setEvents=function(a){var b,c,d,f=a.target;for(h(f),c=0;c<n.length;c+=1)g(f,n[c],e);for(b=0;b<a.mods.length;b+=1){for(d=a.mods[b],c=0;c<m.length;c+=1)g(f,m[c],d[m[c]]);g(f,"onInit",d.onInit),g(f,"onProgress",d.onProgress),g(f,"onLoad",d.onLoad),g(f,"onFrame",d.onFrame),g(f,"onDraw",d.onDraw)}g(f,"onLoad",function(a,b){o.setAnimation(b)}),g(f,"onInit",a.onInit),g(f,"onProgress",a.onProgress),g(f,"onLoad",a.onLoad),g(f,"onFrame",a.onFrame),g(f,"onDraw",a.onDraw)},o.boot=function(a){o.setModules(a),o.setLayout(a),o.setEvents(a),a.target.addClass("loading").trigger("onInit",a),a.loading=!0,i({source:a.source,preloadCount:a.preloadCount,progress:function(b){a.target.trigger("onProgress",[b,a])},complete:function(b){a.images=b,a.loading=!1,o.measureSource(a),a.stage.show(),a.target.removeClass("loading").trigger("onLoad",a).trigger("onFrame",a).trigger("onDraw",a)}})},o.create=function(b){var c=b.target,d=c.data(l);if(d)a.extend(d,b);else{if(d=a.extend({},o.defaults,b),d.source=d.source||[],c.find("img").each(function(){d.source.push(a(this).attr("src"))}),c.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===d.renderer){var e=a("<canvas class='spritespin-canvas'></canvas>")[0];e.getContext&&e.getContext("2d")?(d.canvas=a(e),d.context=e.getContext("2d"),c.append(d.canvas),c.addClass("with-canvas")):d.renderer="image"}d.target=c,d.stage=c.find(".spritespin-stage"),c.data(l,d)}"string"==typeof d.source&&(d.source=[d.source]),d.mods&&(delete d.behavior,delete d.module),(d.behavior||d.module)&&(d.mods=[],d.behavior&&d.mods.push(d.behavior),d.module&&d.mods.push(d.module),delete d.behavior,delete d.module),o.boot(d)},o.destroy=function(a){a&&(o.stopAnimation(a),h(a.target),a.target.removeData(l))},o.registerModule=function(b,c){return o.mods[b]&&a.error("Module name is already taken: "+b),c=c||{},o.mods[b]=c,c},o.Api=function(a){this.data=a},o.extendApi=function(b){var c,d=o.Api.prototype;for(c in b)b.hasOwnProperty(c)&&(d[c]?a.error("API method is already defined: "+c):d[c]=b[c]);return d},a.fn.spritespin=function(b,c){if("data"===b)return this.data(l);if("api"===b){var d=this.data(l);return d.api=d.api||new o.Api(d),d.api}if("destroy"===b)return a(this).each(function(){o.destroy(a(this).data(l))});if(2===arguments.length&&"string"==typeof b){var e={};e[b]=c,b=e}return"object"==typeof b?(b.target=b.target||a(this),o.create(b),b.target):a.error("Invalid call to spritespin")}}(window.jQuery||window.Zepto||window.$),function(a){"use strict";var b=window.SpriteSpin;b.extendApi({isPlaying:function(){return null!==this.data.animation},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.data.animate=!this.data.animate,b.setAnimation(this.data)},stopAnimation:function(){this.data.animate=!1,b.setAnimation(this.data)},startAnimation:function(){this.data.animate=!0,b.setAnimation(this.data)},loop:function(a){return this.data.loop=a,b.setAnimation(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:function(a){return b.updateFrame(this.data,a),this},skipFrames:function(a){var c=this.data;return b.updateFrame(c,c.frame+(c.reverse?-a:+a)),this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(a,c){var d=this.data;if(c=c||{},c.force||d.frame!==a){if(c.nearest){var e=a-d.frame,f=a>d.frame?e-d.frames:e+d.frames,g=Math.abs(e)<Math.abs(f)?e:f;d.reverse=0>g}return d.animate=!0,d.loop=!1,d.stopFrame=a,b.setAnimation(d),this}}})}(window.jQuery||window.Zepto||window.$),function(a){"use strict";function b(a){a=a||document.documentElement,a[i.requestFullscreen]()}function c(){return document[i.exitFullscreen]()}function d(){return document[i.fullscreenEnabled]}function e(){return document[i.fullscreenElement]}function f(){return!!e()}function g(){a(document).unbind(k)}function h(b){g(),a(document).bind(k,b)}var i=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),j=window.SpriteSpin,k=i.fullscreenchange+"."+j.namespace;j.extendApi({fullscreenEnabled:d,fullscreenElement:e,exitFullscreen:c,toggleFullscreen:function(a){f()?this.requestFullscreen(a):this.exitFullscreen()},requestFullscreen:function(a){a=a||{};var c=this,d=c.data,e=d.width,i=d.height,k=d.source;h(function(){f()?(d.width=window.screen.width,d.height=window.screen.height,d.source=a.source||k,j.boot(d)):(g(),d.width=e,d.height=i,d.source=k,j.boot(d))}),b(d.target[0])}})}(window.jQuery||window.Zepto||window.$),function(a,b){"use strict";function c(c){var d=a(this),e=d.data("spritespin");b.updateInput(c,e);var f,g;"horizontal"===e.orientation?(f=e.target.innerWidth()/2,g=e.currentX-e.target.offset().left):(f=e.target.innerHeight()/2,g=e.currentY-e.target.offset().top),d.spritespin(g>f?"next":"prev")}b.registerModule("click",{mouseup:c,touchend:c})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this).spritespin("data");d.loading||d.dragging||!d.stage.is(":visible")||(d.dragFrame=d.frame||0,d.dragLane=d.lane||0,b.updateInput(c,d),d.dragging=!0)}function d(c){var d=a(this),e=d.spritespin("data");e.dragging=!1,e.stage.is(":visible")&&b.resetInput(e)}function e(c){var d,e,f=a(this),g=f.spritespin("data");if(g.dragging){if(b.updateInput(c,g),Math.abs(g.ddX)+Math.abs(g.ddY)>g.scrollThreshold)return g.dragging=!1,void b.resetInput(g);c.preventDefault();var h=0;h="number"==typeof g.orientation?(Number(g.orientation)||0)*Math.PI/180:"horizontal"===g.orientation?0:Math.PI/2;var i=Math.sin(h),j=Math.cos(h),k=(g.nddX*j-g.nddY*i)*g.sense||0,l=(g.nddX*i+g.nddY*j)*(g.senseLane||g.sense)||0;g.dragFrame+=g.frames*k,g.dragLane+=g.lanes*l,g.wrap||(g.dragFrame=Math.min(g.dragFrame,g.frames),g.dragFrame=Math.max(g.dragFrame,0)),g.wrapLane||(g.dragLane=Math.min(g.dragLane,g.lanes),g.dragLane=Math.max(g.dragLane,0)),e=Math.floor(g.dragFrame),d=Math.floor(g.dragLane),b.updateFrame(g,e,d),b.stopAnimation(g)}}b.registerModule("drag",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d}),b.registerModule("move",{mousemove:function(a){c.call(this,a),e.call(this,a)},mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this),e=d.spritespin("data");e.loading||(b.updateInput(c,e),e.dragging=!0,d.spritespin("api").startAnimation())}function d(c){var d=a(this),e=d.spritespin("data");b.resetInput(e),e.dragging=!1,d.spritespin("api").stopAnimation()}function e(c){var d=a(this),e=d.spritespin("data");if(e.dragging){b.updateInput(c,e);var f,g;"horizontal"===e.orientation?(f=e.target.innerWidth()/2,g=(e.currentX-e.target.offset().left-f)/f):(f=e.height/2,g=(e.currentY-e.target.offset().top-f)/f),e.reverse=0>g,g=0>g?-g:g,e.frameTime=80*(1-g)+20,("horizontal"===e.orientation&&e.dX<e.dY||"vertical"===e.orientation&&e.dX<e.dY)&&c.preventDefault()}}b.registerModule("hold",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d,onFrame:function(){a(this).spritespin("api").startAnimation()}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this).spritespin("data");d.loading||(b.updateInput(c,d),d.dragging=!0)}function d(){var c=a(this).spritespin("data");c.dragging=!1,b.resetInput(c)}function e(c){var d=a(this),e=d.spritespin("data");if(e.dragging){b.updateInput(c,e);var f,g,h=e.frame,i=e.snap||.25;"horizontal"===e.orientation?(f=e.dX,g=e.target.innerWidth()*i):(f=e.dY,g=e.target.innerHeight()*i),f>g?(h=e.frame-1,e.dragging=!1):-g>f&&(h=e.frame+1,e.dragging=!1),d.spritespin("update",h),d.spritespin("animate",!1),("horizontal"===e.orientation&&e.dX<e.dY||"vertical"===e.orientation&&e.dX<e.dY)&&c.preventDefault()}}b.registerModule("swipe",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(b){var c=b.lane*b.frames+b.frame,d=b.frameWidth*(c%b.framesX),f=b.frameHeight*e(c/b.framesX);return"canvas"===b.renderer?(b.context.clearRect(0,0,b.width,b.height),void b.context.drawImage(b.images[0],d,f,b.frameWidth,b.frameHeight,0,0,b.width,b.height)):(d=-e(d*b.scaleWidth),f=-e(f*b.scaleHeight),void("background"===b.renderer?b.stage.css({"background-image":["url('",b.source[0],"')"].join(""),"background-position":[d,"px ",f,"px"].join("")}):a(b.images).css({top:f,left:d})))}function d(b){var c=b.lane*b.frames+b.frame,d=b.images[c];"canvas"===b.renderer?d&&d.complete!==!1&&(b.context.clearRect(0,0,b.width,b.height),b.context.drawImage(d,0,0,b.width,b.height)):"background"===b.renderer?b.stage.css({"background-image":["url('",b.source[c],"')"].join(""),"background-position":[0,"px ",0,"px"].join("")}):(a(b.images).hide(),a(b.images[c]).show())}var e=Math.floor;b.registerModule("360",{onLoad:function(b,c){var d,f;if(c.scaleWidth=c.width/c.frameWidth,c.scaleHeight=c.height/c.frameHeight,c.sourceIsSprite=1===c.images.length,c.stage.empty().css({"background-image":"none"}).show(),"canvas"===c.renderer)c.context.clearRect(0,0,c.width,c.height),c.canvas.show();else if("background"===c.renderer){c.sourceIsSprite?(d=e(c.sourceWidth*c.scaleWidth),f=e(c.sourceHeight*c.scaleHeight)):(d=e(c.frameWidth*c.scaleWidth),f=e(c.frameHeight*c.scaleHeight));var g=[d,"px ",f,"px"].join("");c.stage.css({"background-repeat":"no-repeat","-webkit-background-size":g,"-moz-background-size":g,"-o-background-size":g,"background-size":g})}else"image"===c.renderer&&(c.sourceIsSprite?(d=e(c.sourceWidth*c.scaleWidth),f=e(c.sourceHeight*c.scaleHeight)):d=f="100%",a(c.images).appendTo(c.stage).css({width:d,height:f,position:"absolute"}))},onDraw:function(a,b){b.sourceIsSprite?c(b):d(b)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a){"use strict";var b=window.SpriteSpin.mods.gallery={};b.onLoad=function(b,c){c.images=[],c.offsets=[],c.stage.empty(),c.speed=500,c.opacity=.25,c.oldFrame=0;var d,e=0;for(d=0;d<c.source.length;d+=1){var f=a("<img src='"+c.source[d]+"'/>");c.stage.append(f),c.images.push(f),c.offsets.push(-e+(c.width-f[0].width)/2),e+=f[0].width,f.css({opacity:.25})}c.stage.css({width:e}),c.images[c.oldFrame].animate({opacity:1},c.speed)},b.onDraw=function(a,b){b.oldFrame!==b.frame&&b.offsets?(b.stage.stop(!0,!1),b.stage.animate({left:b.offsets[b.frame]},b.speed),b.images[b.oldFrame].animate({opacity:b.opacity},b.speed),b.oldFrame=b.frame,b.images[b.oldFrame].animate({opacity:1},b.speed)):b.stage.css({left:b.offsets[b.frame]+b.dX})},b.resetInput=function(a,b){b.onDrag||b.stage.animate({left:b.offsets[b.frame]})}}(window.jQuery||window.Zepto||window.$),function(a,b){"use strict";var c=Math.floor;b.registerModule("panorama",{onLoad:function(a,b){b.stage.empty().show(),b.frames=b.sourceWidth,"horizontal"===b.orientation?(b.scale=b.height/b.sourceHeight,b.frames=b.sourceWidth):(b.scale=b.width/b.sourceWidth,b.frames=b.sourceHeight);var d=c(b.sourceWidth*b.scale),e=c(b.sourceHeight*b.scale),f=[d,"px ",e,"px"].join("");b.stage.css({"background-image":["url('",b.source[0],"')"].join(""),"background-repeat":"repeat-both","-webkit-background-size":f,"-moz-background-size":f,"-o-background-size":f,"background-size":f})},onDraw:function(a,b){var d=0,e=0;"horizontal"===b.orientation?d=-c(b.frame%b.frames*b.scale):e=-c(b.frame%b.frames*b.scale),b.stage.css({"background-position":[d,"px ",e,"px"].join("")})}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(a,c){a.preventDefault(),c.dragging=!1,!a.touches&&a.originalEvent&&(a.touches=a.originalEvent.touches);var d,e,f,g;a.touches&&a.touches.length?(d=a.touches[0].clientX||0,e=a.touches[0].clientY||0):(d=a.clientX||0,e=a.clientY||0),d/=c.width,e/=c.height,null==c.zoomPX&&(c.zoomPX=d,c.zoomPY=e),null==c.zoomX&&(c.zoomX=d,c.zoomY=e),f=d-c.zoomPX,g=e-c.zoomPY,c.zoomPX=d,c.zoomPY=e,a.type.match(/touch/)&&(f=-f,g=-g),c.zoomX=b.clamp(c.zoomX+f,0,1),c.zoomY=b.clamp(c.zoomY+g,0,1),b.updateFrame(c)}function d(b){b.preventDefault();var d=a(this).spritespin("data"),e=(new Date).getTime();if(delete d.zoomPX,delete d.zoomPY,!d.zoomClickTime)return void(d.zoomClickTime=e);var f=e-d.zoomClickTime;return f>500?void(d.zoomClickTime=e):(d.zoomClickTime=0,void(a(this).spritespin("api").toggleZoom()&&c(b,d)))}function e(b){var d=a(this).spritespin("data");d.zoomStage.is(":visible")&&c(b,d)}b.registerModule("zoom",{mousedown:d,touchstart:d,mousemove:e,touchmove:e,onInit:function(b,c){c.zoomStage||(c.zoomStage=a("<div class='spritezoom-stage'></div>").css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(c.target).hide())},onDraw:function(a,b){var c=b.lane*b.frames+b.frame,d=b.source[c];if(b.zoomSource&&(d=b.zoomSource[c]),d){var e=b.zoomX,f=b.zoomY;(null==e||null==f)&&(e=b.zoomX=.5,f=b.zoomY=.5),b.zoomStage.css({"background-repeat":"no-repeat","background-image":["url('",d,"')"].join(""),"background-position":[100*e|0,"% ",100*f|0,"%"].join("")})}}}),b.extendApi({toggleZoom:function(){var b=this.data;return b.zoomStage?b.zoomStage.is(":visible")?(b.zoomStage.fadeOut(),b.stage.fadeIn(),!1):(b.zoomStage.fadeIn(),b.stage.fadeOut(),!0):(a.error("zoom module is not initialized or is not available."),!1)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin);