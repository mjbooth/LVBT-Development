var DD_roundies={ns:"DD_roundies",IE6:!1,IE7:!1,IE8:!1,IEversion:function(){8!=document.documentMode&&document.namespaces&&!document.namespaces[this.ns]?(this.IE6=!0,this.IE7=!0):8==document.documentMode&&(this.IE8=!0)},querySelector:document.querySelectorAll,selectorsToProcess:[],imgSize:{},createVmlNameSpace:function(){(this.IE6||this.IE7)&&document.namespaces.add(this.ns,"urn:schemas-microsoft-com:vml"),this.IE8&&document.writeln('<?import namespace="'+this.ns+'" implementation="#default#VML" ?>')},createVmlStyleSheet:function(){var e=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)try{var t=e.styleSheet;t.addRule(this.ns+"\\:*","{behavior:url(#default#VML)}"),this.styleSheet=t}catch(i){}else this.styleSheet=e},addRule:function(e,t,i){("undefined"==typeof t||null===t)&&(t=0),-1==t.constructor.toString().search("Array")&&(t=t.toString().replace(/[^0-9 ]/g,"").split(" "));for(var o=0;4>o;o++)t[o]=t[o]||0===t[o]?t[o]:t[Math.max(o-2,0)];if(this.styleSheet){if(this.styleSheet.addRule)for(var r=e.split(","),o=0;o<r.length;o++)this.styleSheet.addRule(r[o],"behavior:expression(DD_roundies.roundify.call(this, ["+t.join(",")+"]))");else if(i){var l=t.join("px ")+"px";this.styleSheet.appendChild(document.createTextNode(e+" {border-radius:"+l+"; -moz-border-radius:"+l+";}")),this.styleSheet.appendChild(document.createTextNode(e+" {-webkit-border-top-left-radius:"+t[0]+"px "+t[0]+"px; -webkit-border-top-right-radius:"+t[1]+"px "+t[1]+"px; -webkit-border-bottom-right-radius:"+t[2]+"px "+t[2]+"px; -webkit-border-bottom-left-radius:"+t[3]+"px "+t[3]+"px;}"))}}else this.IE8&&this.selectorsToProcess.push({selector:e,radii:t})},readPropertyChanges:function(e){switch(event.propertyName){case"style.border":case"style.borderWidth":case"style.padding":this.applyVML(e);break;case"style.borderColor":this.vmlStrokeColor(e);break;case"style.backgroundColor":case"style.backgroundPosition":case"style.backgroundRepeat":this.applyVML(e);break;case"style.display":e.vmlBox.style.display="none"==e.style.display?"none":"block";break;case"style.filter":this.vmlOpacity(e);break;case"style.zIndex":e.vmlBox.style.zIndex=e.style.zIndex}},applyVML:function(e){e.runtimeStyle.cssText="",this.vmlFill(e),this.vmlStrokeColor(e),this.vmlStrokeWeight(e),this.vmlOffsets(e),this.vmlPath(e),this.nixBorder(e),this.vmlOpacity(e)},vmlOpacity:function(e){if(-1!=e.currentStyle.filter.search("lpha")){var t=e.currentStyle.filter;t=parseInt(t.substring(t.lastIndexOf("=")+1,t.lastIndexOf(")")),10)/100;for(var i in e.vml)e.vml[i].filler.opacity=t}},vmlFill:function(e){if(e.currentStyle){var t=e.currentStyle;e.runtimeStyle.backgroundColor="",e.runtimeStyle.backgroundImage="";var i="transparent"==t.backgroundColor,o=!0;if("none"!=t.backgroundImage||e.isImg){e.isImg?e.vmlBg=e.src:(e.vmlBg=t.backgroundImage,e.vmlBg=e.vmlBg.substr(5,e.vmlBg.lastIndexOf('")')-5));var r=this;if(!r.imgSize[e.vmlBg]){var l=document.createElement("img");l.attachEvent("onload",function(){this.width=this.offsetWidth,this.height=this.offsetHeight,r.vmlOffsets(e)}),l.className=r.ns+"_sizeFinder",l.runtimeStyle.cssText="behavior:none; position:absolute; top:-10000px; left:-10000px; border:none;",l.src=e.vmlBg,l.removeAttribute("width"),l.removeAttribute("height"),document.body.insertBefore(l,document.body.firstChild),r.imgSize[e.vmlBg]=l}e.vml.image.filler.src=e.vmlBg,o=!1}e.vml.image.filled=!o,e.vml.image.fillcolor="none",e.vml.color.filled=!i,e.vml.color.fillcolor=t.backgroundColor,e.runtimeStyle.backgroundImage="none",e.runtimeStyle.backgroundColor="transparent"}},vmlStrokeColor:function(e){e.vml.stroke.fillcolor=e.currentStyle.borderColor},vmlStrokeWeight:function(e){var t=["Top","Right","Bottom","Left"];e.bW={};for(var i=0;4>i;i++)e.bW[t[i]]=parseInt(e.currentStyle["border"+t[i]+"Width"],10)||0},vmlOffsets:function(e){for(var t=["Left","Top","Width","Height"],i=0;4>i;i++)e.dim[t[i]]=e["offset"+t[i]];var o=function(t,i){t.style.left=(i?0:e.dim.Left)+"px",t.style.top=(i?0:e.dim.Top)+"px",t.style.width=e.dim.Width+"px",t.style.height=e.dim.Height+"px"};for(var r in e.vml){var l="image"==r?1:2;e.vml[r].coordsize=e.dim.Width*l+", "+e.dim.Height*l,o(e.vml[r],!0)}o(e.vmlBox,!1),DD_roundies.IE8&&(e.vml.stroke.style.margin="-1px","undefined"==typeof e.bW&&this.vmlStrokeWeight(e),e.vml.color.style.margin=e.bW.Top-1+"px "+(e.bW.Left-1)+"px")},vmlPath:function(e){var t=function(e,t,i,o,r,l,s){var a=e?["m","qy","l","qx","l","qy","l","qx","l"]:["qx","l","qy","l","qx","l","qy","l","m"];r*=s,l*=s,t*=s,i*=s;for(var n=o.slice(),m=0;4>m;m++)n[m]*=s,n[m]=Math.min(t/2,i/2,n[m]);var h=[a[0]+Math.floor(0+r)+","+Math.floor(n[0]+l),a[1]+Math.floor(n[0]+r)+","+Math.floor(0+l),a[2]+Math.ceil(t-n[1]+r)+","+Math.floor(0+l),a[3]+Math.ceil(t+r)+","+Math.floor(n[1]+l),a[4]+Math.ceil(t+r)+","+Math.ceil(i-n[2]+l),a[5]+Math.ceil(t-n[2]+r)+","+Math.ceil(i+l),a[6]+Math.floor(n[3]+r)+","+Math.ceil(i+l),a[7]+Math.floor(0+r)+","+Math.ceil(i-n[3]+l),a[8]+Math.floor(0+r)+","+Math.floor(n[0]+l)];e||h.reverse();var d=h.join("");return d};"undefined"==typeof e.bW&&this.vmlStrokeWeight(e);var i=e.bW,o=e.DD_radii.slice(),r=t(!0,e.dim.Width,e.dim.Height,o,0,0,2);o[0]-=Math.max(i.Left,i.Top),o[1]-=Math.max(i.Top,i.Right),o[2]-=Math.max(i.Right,i.Bottom),o[3]-=Math.max(i.Bottom,i.Left);for(var l=0;4>l;l++)o[l]=Math.max(o[l],0);var s=t(!1,e.dim.Width-i.Left-i.Right,e.dim.Height-i.Top-i.Bottom,o,i.Left,i.Top,2),a=t(!0,e.dim.Width-i.Left-i.Right+1,e.dim.Height-i.Top-i.Bottom+1,o,i.Left,i.Top,1);e.vml.color.path=s,e.vml.image.path=a,e.vml.stroke.path=r+s,this.clipImage(e)},nixBorder:function(e){for(var t=e.currentStyle,i=["Top","Left","Right","Bottom"],o=0;4>o;o++)e.runtimeStyle["padding"+i[o]]=(parseInt(t["padding"+i[o]],10)||0)+(parseInt(t["border"+i[o]+"Width"],10)||0)+"px";e.runtimeStyle.border="none"},clipImage:function(e){var t=DD_roundies;if(e.vmlBg&&t.imgSize[e.vmlBg]){var i=e.currentStyle,o={X:0,Y:0},r=function(i,r){var l=!0;switch(r){case"left":case"top":o[i]=0;break;case"center":o[i]=.5;break;case"right":case"bottom":o[i]=1;break;default:-1!=r.search("%")?o[i]=.01*parseInt(r,10):l=!1}var s="X"==i;o[i]=Math.ceil(l?(e.dim[s?"Width":"Height"]-(e.bW[s?"Left":"Top"]+e.bW[s?"Right":"Bottom"]))*o[i]-t.imgSize[e.vmlBg][s?"width":"height"]*o[i]:parseInt(r,10)),o[i]+=1};for(var l in o)r(l,i["backgroundPosition"+l]);e.vml.image.filler.position=o.X/(e.dim.Width-e.bW.Left-e.bW.Right+1)+","+o.Y/(e.dim.Height-e.bW.Top-e.bW.Bottom+1);var s=i.backgroundRepeat,a={T:1,R:e.dim.Width+1,B:e.dim.Height+1,L:1},n={X:{b1:"L",b2:"R",d:"Width"},Y:{b1:"T",b2:"B",d:"Height"}};if("repeat"!=s){if(a={T:o.Y,R:o.X+t.imgSize[e.vmlBg].width,B:o.Y+t.imgSize[e.vmlBg].height,L:o.X},-1!=s.search("repeat-")){var m=s.split("repeat-")[1].toUpperCase();a[n[m].b1]=1,a[n[m].b2]=e.dim[n[m].d]+1}a.B>e.dim.Height&&(a.B=e.dim.Height+1)}e.vml.image.style.clip="rect("+a.T+"px "+a.R+"px "+a.B+"px "+a.L+"px)"}},pseudoClass:function(e){var t=this;setTimeout(function(){t.applyVML(e)},1)},reposition:function(e){this.vmlOffsets(e),this.vmlPath(e)},roundify:function(e){if(this.style.behavior="none",this.currentStyle){var t=this.currentStyle,i={BODY:!1,TABLE:!1,TR:!1,TD:!1,SELECT:!1,OPTION:!1,TEXTAREA:!1};if(i[this.nodeName]!==!1){var o=this,r=DD_roundies;this.DD_radii=e,this.dim={};var l={resize:"reposition",move:"reposition"};if("A"==this.nodeName){var s={mouseleave:"pseudoClass",mouseenter:"pseudoClass",focus:"pseudoClass",blur:"pseudoClass"};for(var a in s)l[a]=s[a]}for(var n in l)this.attachEvent("on"+n,function(){r[l[n]](o)});this.attachEvent("onpropertychange",function(){r.readPropertyChanges(o)});var m=function(e){e.style.zoom=1,"static"==e.currentStyle.position&&(e.style.position="relative")};m(this.offsetParent),m(this),this.vmlBox=document.createElement("ignore"),this.vmlBox.runtimeStyle.cssText="behavior:none; position:absolute; margin:0; padding:0; border:0; background:none;",this.vmlBox.style.zIndex=t.zIndex,this.vml={color:!0,image:!0,stroke:!0};for(var h in this.vml)this.vml[h]=document.createElement(r.ns+":shape"),this.vml[h].filler=document.createElement(r.ns+":fill"),this.vml[h].appendChild(this.vml[h].filler),this.vml[h].stroked=!1,this.vml[h].style.position="absolute",this.vml[h].style.zIndex=t.zIndex,this.vml[h].coordorigin="1,1",this.vmlBox.appendChild(this.vml[h]);this.vml.image.fillcolor="none",this.vml.image.filler.type="tile",this.parentNode.insertBefore(this.vmlBox,this),this.isImg=!1,"IMG"==this.nodeName&&(this.isImg=!0,this.style.visibility="hidden"),setTimeout(function(){r.applyVML(o)},1)}}}};try{document.execCommand("BackgroundImageCache",!1,!0)}catch(err){}DD_roundies.IEversion(),DD_roundies.createVmlNameSpace(),DD_roundies.createVmlStyleSheet(),DD_roundies.IE8&&document.attachEvent&&DD_roundies.querySelector&&document.attachEvent("onreadystatechange",function(){if("complete"==document.readyState)for(var e=DD_roundies.selectorsToProcess,t=e.length,i=function(e,t,i){setTimeout(function(){DD_roundies.roundify.call(e,t)},100*i)},o=0;t>o;o++)for(var r=document.querySelectorAll(e[o].selector),l=r.length,s=0;l>s;s++)"INPUT"!=r[s].nodeName&&i(r[s],e[o].radii,s)});